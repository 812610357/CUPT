# MATLAB 常用图像绘制功能介绍

在沙龙中简单提了一下MATLAB，它与Mathematica、Maple并称为三大数学软件。绘制图像只是其中一个非常简单的功能，还有许多更加高级的功能，例如常用的求解数值微分方程等。

在此我们为了让大家能够更加轻松的上手使用图像绘制功能，特地编写此教程。

## 数据导入

MATLAB的语言结构非常友善，每条语句的结尾可以不用输入分号来结束语句，当输入分号时，运行后讲不会对改行语句进行输出。

### 数据类型定义

对于单个数的表示，不需要对数据类型进行定义，

`x = 1`

对于一维数组的定义，数与数之间可以使用逗号或者是空格隔开。

`data1 = [1 2 3 4 5]`

对于矩阵（二维数组）的定义，行与行之间直接回车隔开即可。

```
data2 = [
    11 12 13 14 15
    21 22 23 24 25
    31 32 33 34 35
    ]
```

通过这样的方法输入数据，以为着可以从Excel电子表格直接复制数据，粘贴到代码中，而不需要进行其他额外的处理，因为从Excel电子表格复制的数据形式与上述的二维数组形式相同。

### 从文件中获取数据（参考案例3）

在R2019之前的版本，可以使用`csvread`、`xlsread`
等函数对文件进行读取，但在这之后的版本中，我们推荐大家使用`readmatrix`函数对.csv、.xls、.xlsx等文件进行数据读取，这些函数的使用方法如下，以`readmatrix`为例

`readmatrix(文件路径 [可选参数, 标题行, 标题列])`

### 从矩阵中提取数据

从上述的矩阵中提取第2行的数据到一个数组中

`an  =data2(2, :) >>> an = [21 22 23 24 25]`

从上述的矩阵中提取第5列的数据到一个数组中

`am = data2(:, 5) >>> am = [15 25 35]`

### 线性数组的定义

如果我们需要得到一个等差数列数组，我们则可以使用以下这种形式进行定义，这样的等差数列在接下来的绘制函数图像中有很大的用处，其格式为

`t = 起始:步长:终止`

例如

`t = 0:2:10 >>> t = [0 2 4 8 10]`

## 函数图像绘制

一般而言，绘制的函数图像都是我们推导得出的理论曲线。

### 函数表达式

有一些函数是可以使用表达式来对其进行表示的，例如

$$y=f(x)=\frac{\sin{x}}{\sqrt{2x^2+1}}$$

此出的乘法和除法必须为点乘和点除，用代码表示为

`y = sin(x) ./ sqrt(2 .* x^2 + 1)`

当然x与y的关系也可以使用一个矩阵或者两个数组进行表示，因为我们在很多情况下无法得到数值解，只能得到解析解

### 使用plot函数绘制（参考案例1、2）

使用plot对函数图像进行绘制其格式为

`plot(x, y, 线型点型, 可选参数1, 对应值1, 可选参数2, 对应值2...)`

1. x：横轴值，通常使用线性数组，当步长设置得越小时，曲线越平滑，当然也可以为任意一个数组
2. y：纵轴值，一般是一个关于x的函数，也可以是一个数组
3. 线型点型：要用单引号引起来，线型用来控制点与点之间连线的样式，点型用来控制标记点的样式，可以只填写线型，也可以同时填写线型和点型形成复合型，例如'-o'
   
   线型：-实线  --双实线  :虚线  :.点划线

   点型：.实心圆  o空心圆  +十字  *星号  x叉叉  s正方形  d菱形  ^上三角  v下三角  <左三角  >右三角  p五角星  h六边形

4. 可选参数及其值：这一部分也需要用单引号引起，包括以下常用参数，标记点即输入的数据点，线条即为数据点之间的连线
   
   Color：线条颜色，其值可以用单个字母表示，y黄，r红，b蓝，g绿，m紫，c青，w白，k黑，也可以用颜色单词表示，例如blue蓝色，也可以使用浮点型RGB数组表示，例如`[1, 0.5, 0.6]`
   
   `MarkerFaceColor`：标记点的填充颜色

   `MarkerEdgeColor`：标记点的描边颜色

   `LineWidth`：线条宽度，同时也是标记点描边的宽度

   `MarkerSize`：标记点大小

例如红色实现无标记点线宽为1函数图

`plot(x, y, '-', 'Color', 'r', 'LineWidth', 1)`

## 绘制散点图

一般而言，绘制的散点图一般为实验的原始数据点，这些数据是直接通过实验仪器或者软件获得的，需要对这些数据进行详细处理并展示的，一般可以不加误差棒，直接绘制散点图，一般有两种绘制方法。

### 使用plot函数绘制（参考案例1）

在上文中我们已经提到了使用`plot`函数绘制函数图像，如果我们把其中的线型省略，只填写点型，那么图中只会保留标记点，而不会有连线，那么就可以形成散点图

例如蓝色填充白色描边大小为6散点图

`plot(x, y, 'o', 'MarkerFaceColor', 'b', 'MarkerEdgeColor', 'w', 'MarkerSize', 6)`

### 使用scatter函数绘制（参考案例3）

除了使用`plot`函数绘制，还可以使用`scatter`函数绘制散点图，使用这个函数可以很方便的控制每个点的大小，以简单的体现出实验的误差，其格式为

`plot(x, y, 标记大小, 点型, 可选参数1, 对应值1, 可选参数2, 对应值2...)`

1. 标记大小：相当于替代`plot`函数中的`MarkerSize`选项
2. 点型：此处的点型与`plot`函数中的点型一致